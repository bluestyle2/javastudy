<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>aaa</title>
<style>
		#con{
		width:500px;
		height:500px;
		background: #ff0;
		border: 1px solid #000;
		padding: 50px;
		margin: 50px;
		}
		
</style>
<script type="text/javascript" src="../qqq/jquery-3.6.0.js"></script>
<script type="text/javascript">
	$(function(){
		$("button").click(function(){
			
			var dt = $(this).html()
			
			$.ajax({
				url:"data2.jsp",
				dataType:$(this).html(),	//서버로부터 돌려받을 데이터 형태
				success:function(ddd){	//성공을하면
					console.log(ddd)
					
					$("#con").html("")
					if(dt =='text'){
						$("#con").html(ddd)
						
					}else if(dt =='json'){
						
						$.each(ddd, function(i, mm){
							
							var box = $("<div>")
							box.html("번호:"+i+", 아이디:"+mm.pid+",나이:"+mm.age+",결혼:"+mm.marriage)
							$("#con").append(box)
							alert(i+mm)
						})
					}					
				},
				error:function(e){
					alert(e.responseText)
				}
			})
			
		})
		
	})
</script>
</head>
<body>
<h1>bbb</h1>
<button>json</button>
<button>text</button>


<div id="con"></div>
</body>
</html>